registerChannelProviderLocal firstTime true
#
# Start at "2022-W13-Mar28-1432-36-CEST"
#
# Version information:
# European Spallation Source ERIC : iocsh.bash (3.4.1-PID-9992)
#
# --->--> snip -->--> 
# Please Use Version and other environment variables
# in order to report or debug this shell
#
# HOSTDISPLAY=""
# WINDOWID=""
# PWD="/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh"
# USER="anderssandstrom"
# LOGNAME="anderssandstrom"
# EPICS_HOST_ARCH="linux-x86_64"
# EPICS_BASE="/epics/base-7.0.5"
# E3_REQUIRE_NAME="require"
# E3_REQUIRE_VERSION="3.4.1"
# E3_REQUIRE_LOCATION="/epics/base-7.0.5/require/3.4.1"
# E3_REQUIRE_BIN="/epics/base-7.0.5/require/3.4.1/bin"
# E3_REQUIRE_DB="/epics/base-7.0.5/require/3.4.1/db"
# E3_REQUIRE_DBD="/epics/base-7.0.5/require/3.4.1/dbd"
# E3_REQUIRE_INC="/epics/base-7.0.5/require/3.4.1/include"
# E3_REQUIRE_LIB="/epics/base-7.0.5/require/3.4.1/lib"
# EPICS_DRIVER_PATH="/epics/base-7.0.5/require/3.4.1/siteMods:/epics/base-7.0.5/require/3.4.1/siteApps"
# EPICS_CA_AUTO_ADDR_LIST=""
# EPICS_CA_ADDR_LIST=""
# PATH="/epics/base-7.0.5/require/3.4.1/bin:/epics/base-7.0.5/bin/linux-x86_64:/usr/condabin:/usr/local/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/anderssandstrom/.local/bin:/home/anderssandstrom/bin"
# --->--> snip -->--> 
#
# Set REQUIRE_IOC for its internal PVs
epicsEnvSet REQUIRE_IOC "REQMOD:lab-mot-ctrl-cp-9992"
#
# Enable an exit subroutine for sotfioc
dbLoadRecords "/epics/base-7.0.5/db/softIocExit.db" "IOC=REQMOD:lab-mot-ctrl-cp-9992"
#
# Set E3_IOCSH_TOP for the absolute path where iocsh.bash is executed.
epicsEnvSet E3_IOCSH_TOP "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh"
#
# 
# Load require module, which has the version 3.4.1
# 
dlload /epics/base-7.0.5/require/3.4.1/lib/linux-x86_64/librequire.so
dbLoadDatabase /epics/base-7.0.5/require/3.4.1/dbd/require.dbd
require_registerRecordDeviceDriver
Loading module info records for require
# 
# Set E3_CMD_TOP for the absolute path where st.loopback.cmd exists
epicsEnvSet E3_CMD_TOP "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh"
#
iocshLoad 'st.loopback.cmd',''
#!/usr/bin/env iocsh.bash
# ### Generic EVR (Do not modify this file)
# More details: https://gitlab.esss.lu.se/icshwi/evr-ess
## Common envs
epicsEnvSet "ENGINEER" "MCAG_ECMC"
epicsEnvSet "TOP" "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh/"
# [localhost]
## [CHESS] configuration (https://chess.esss.lu.se) and node specific settings
iocshLoad "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh//iocrc.iocsh"
require "mrfioc2" "2.3.1-beta.5"
Module mrfioc2 version 2.3.1-beta.5 found in /epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5/
Module mrfioc2 depends on devlib2 2.11.0+0
Module devlib2 version 2.11.0+0 found in /epics/base-7.0.5/require/3.4.1/siteMods/devlib2/2.11.0+0/
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/devlib2/2.11.0+0/lib/linux-x86_64/libdevlib2.so
Loaded devlib2 version 2.11.0+0
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/devlib2/2.11.0+0/dbd/devlib2.dbd
Calling function devlib2_registerRecordDeviceDriver
Loading module info records for devlib2
Loading library /epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5/lib/linux-x86_64/libmrfioc2.so
Loaded mrfioc2 version 2.3.1-beta.5
Loading dbd file /epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5/dbd/mrfioc2.dbd
Calling function mrfioc2_registerRecordDeviceDriver
Loading module info records for mrfioc2
epicsEnvSet "LOCATION" "MCAG_LAB"
epicsEnvSet "FBS" "??"
epicsEnvSet "PEVR" "IOC_MRF_ECMC"
epicsEnvSet "DIREVR" "/home/anderssandstrom/sources/e3ioc-mebtws-evr/aux/"
epicsEnvSet "EVREVTARGS" "N0=F14Hz,E0=14,N1=LEBTCSt,E1=6,N2=LEBTCEnd,E2=7,N3=MEBTCSt,E3=8,N4=MEBTCEnd,E4=9,N5=IonMagSt,E5=10,N6=IonMagEnd,E6=11,N7=BPulseSt,E7=12,N8=BPulseEnd,E8=13,N9=RFSt,E9=15,NA=PMortem,EA=40,NB=PMortemSys,EB=41,NC=DoD,EC=42,ND=DoDSys,ED=43"
epicsEnvSet "EVRDLYGENARGS" "W0=1000,E0T0=14,W1=1000,E1T0=15,W2=10,E2T0=12,W3=10,E3T0=13,W4=1000,E4T0=125,W5=1000,E5T0=40,W7=1000,E7T0=42,W8=10,E8T0=10,W9=10,E9T0=11,W10=10,E10T0=7,W11=10,E11T0=6"
epicsEnvSet "EVROUTARGS" "BP0=0,BP1=1,BP2Notice: devPCIFindSpec() expect B:D.F in hex
Failed to open resource file for PCI device 0000:08:00.0: Permission denied
Found SFP Strangeness 00000000
Can't open /home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh//user.iocsh: No such file or directory
Starting iocInit
iocRun: All initialization complete
Starting NTP SHM writer for segment 2
=49,BP3=4,BP4=5,BP6=7,FPUV0=52,FP0=53"
epicsEnvSet "EVRINARGS" "BP5EN=,BPE5=41,BP7EN=,BPE7=43"
epicsEnvSet "PCIID" "08:00.0"
# [common] e3 modules
## pre-settings
epicsEnvSet "IOCNAME" "IOC_MRF_ECMC"
epicsEnvSet "IOCDIR" "/home/anderssandstrom/sources/e3ioc-mebtws-evr/aux/"
epicsEnvSet "AS_TOP" "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh/autosave"
epicsEnvSet "LOG_SERVER_NAME" "172.16.107.59"
# All ro and experts rw
#epicsEnvSet "PATH_TO_ASG_FILES" "$(auth_DIR)"
#epicsEnvSet "ASG_FILENAME" "allro_exprw.acf"
## body
#$(CMNEN=)require essioc
#$(CMNEN=)iocshLoad("$(essioc_DIR)/common_config.iocsh")
# [IOC] core
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evr.iocsh"      "P=IOC_MRF_ECMC,PCIID=08:00.0,EVRDB=evr-mtca-300-univ.db"
# @about: evr.iocsh
mrmEvrSetupPCI "EVR" "08:00.0"
Device EVR  8:0.0 slot=1-1
Using IRQ 142
FWVersion 0x18070207
Found version 519
Sequencer capability detected
mTCA: Out FP:4 FPUNIV:18 RB:0 IFP:32 GPIO:2
EVR FIFO task start
Enabling interrupts
dbLoadRecords "evr-mtca-300-univ.db" "P=IOC_MRF_ECMC, EVR=EVR, FEVT=88.0525"
var evrMrmTimeNSOverflowThreshold 500000000
dbLoadRecords "evr-databuffer-ess.db"     "P=IOC_MRF_ECMC"
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evrevt.iocsh"   "P=IOC_MRF_ECMC,N0=F14Hz,E0=14,N1=LEBTCSt,E1=6,N2=LEBTCEnd,E2=7,N3=MEBTCSt,E3=8,N4=MEBTCEnd,E4=9,N5=IonMagSt,E5=10,N6=IonMagEnd,E6=11,N7=BPulseSt,E7=12,N8=BPulseEnd,E8=13,N9=RFSt,E9=15,NA=PMortem,EA=40,NB=PMortemSys,EB=41,NC=DoD,EC=42,ND=DoDSys,ED=43"
# @about: evrevt.iocsh
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:F14Hz, OBJ=EVR, CODE=14, EVNT=14"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:LEBTCSt, OBJ=EVR, CODE=6, EVNT=6"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:LEBTCEnd, OBJ=EVR, CODE=7, EVNT=7"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:MEBTCSt, OBJ=EVR, CODE=8, EVNT=8"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:MEBTCEnd, OBJ=EVR, CODE=9, EVNT=9"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:IonMagSt, OBJ=EVR, CODE=10, EVNT=10"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:IonMagEnd, OBJ=EVR, CODE=11, EVNT=11"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:BPulseSt, OBJ=EVR, CODE=12, EVNT=12"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:BPulseEnd, OBJ=EVR, CODE=13, EVNT=13"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:RFSt, OBJ=EVR, CODE=15, EVNT=15"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:PMortem, OBJ=EVR, CODE=40, EVNT=40"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:PMortemSys, OBJ=EVR, CODE=41, EVNT=41"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:DoD, OBJ=EVR, CODE=42, EVNT=42"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:DoDSys, OBJ=EVR, CODE=43, EVNT=43"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:EVTNE, OBJ=EVR, CODE=255, EVNT=255"
dbLoadRecords "evrevent.db" "EN=IOC_MRF_ECMC:EVTNF, OBJ=EVR, CODE=255, EVNT=255"
# [SIT] plugins
## ICSHWI-6250: SIT: ISrc-010Row:CnPw-U-005 FBIS-DLN01:Ctrl-EVR-01
#dbLoadRecords "evr-mps-plc-ess.db" "P=IOC_MRF_ECMC"
# [user] settings - use this file to apply local customization
iocshLoad "/home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh//user.iocsh" "P=IOC_MRF_ECMC"
# Sync host clock over ntp
time2ntp("EVR", 2)
iocInit
############################################################################
## EPICS R7.0.5-E3-7.0.5-patch
## Rev. 2021-03-19T04:42+0100
############################################################################
Set EVR clock 88052500.000000
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evr.r.iocsh" "P=IOC_MRF_ECMC"
# @about: evr.r.iocsh
#Disable not used FIFO traffic: 0 cannot be applied
dbpf "IOC_MRF_ECMC:EvtA-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtB-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtC-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtD-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtE-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtF-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtG-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
dbpf "IOC_MRF_ECMC:EvtH-SP.OUT" "@OBJ=EVR,Code=255"
DBF_STRING:         "@OBJ=EVR,Code=255" 
# Enable EVR
dbpf "IOC_MRF_ECMC:Ena-Sel" "Enabled"
DBF_STRING:         "Enabled" 
# Set delay compensation to X ns, needed to avoid timestamp issue
dbpf "IOC_MRF_ECMC:DC-Tgt-SP" "10000"
DBF_DOUBLE:         10000     
dbpf "IOC_MRF_ECMC:DC-Ena-Sel" "Enable"
DBF_STRING:         "Enable"  
# Set the LED event 0 to event 14
dbpf "IOC_MRF_ECMC:Evt-Blink0-SP" "14"
DBF_LONG:           14 = 0xe  
# TIMESTAMP CONFIGURATION
# 0-disabled: EVT_PPS comes from evg; 1-external; 2-Sys.Clock: locally generated EVT_PPS
dbpf "IOC_MRF_ECMC:TimeSrc-Sel" "0"
DBF_STRING:         "Disable (noop)"    
#dbpf "IOC_MRF_ECMC:TimeSrc-Sel" "2"
dbpf "IOC_MRF_ECMC:Time-I.EVNT" "125"
DBF_STRING:         "125"     
dbpf "IOC_MRF_ECMC:Time-I.INP" "@OBJ=EVR, Code=125"
DBF_STRING:         "@OBJ=EVR, Code=125"          
# Add proper ns calculation reference for the rf ticks
dbpf "IOC_MRF_ECMC:Link-Clk-SP" "88.0525"
Set EVR clock 88052500.000000
DBF_DOUBLE:         88.0525   
dbpf "IOC_MRF_ECMC:Time-Clock-SP" "88.0525"
DBF_DOUBLE:         88.0525   
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evrtclk.r.iocsh" "P=IOC_MRF_ECMC"
# @about: evrclk.r.iocsh
# Configure CLKA backplane clock
### Set TCLKA to low, enable it and power it up
dbpf "IOC_MRF_ECMC:Out-TCLKA-Src-SP" "63"
DBF_LONG:           63 = 0x3f 
dbpf "IOC_MRF_ECMC:Out-TCLKA-Ena-Sel" "1"
DBF_STRING:         "Enabled" 
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pwr-Sel" "1"
DBF_STRING:         "On"      
## Generate CLKA event clock, so 88MHz
#### TCLKA is 40-bit pattern, set the starting 20 bits to 1 (and the rest to 0 - default)
## it does not work dbpf $(P)$(R=)$(S=":")OutTCLKA-Pat-Low00_15-SP 0xffff
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BF" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BE" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BD" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BC" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BB" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.BA" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B9" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B8" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B7" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B6" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B5" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B4" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B3" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B2" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B1" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low00_15-SP.B0" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BF" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BE" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BD" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BC" "1"
DBF_UCHAR:          1 = 0x1   
## Duty Cycle correction to 50%
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BB" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.BA" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B9" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B8" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B7" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B6" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B5" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B4" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B3" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B2" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B1" "1"
DBF_UCHAR:          1 = 0x1   
dbpf "IOC_MRF_ECMC:Out-TCLKA-Pat-Low16_31-SP.B0" "1"
DBF_UCHAR:          1 = 0x1   
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evrdlygen.r.iocsh" "P=IOC_MRF_ECMC,W0=1000,E0T0=14,W1=1000,E1T0=15,W2=10,E2T0=12,W3=10,E3T0=13,W4=1000,E4T0=125,W5=1000,E5T0=40,W7=1000,E7T0=42,W8=10,E8T0=10,W9=10,E9T0=11,W10=10,E10T0=7,W11=10,E11T0=6"
# @about: evrdlygen.r.iocsh
# Define pulsers - width
dbpf "IOC_MRF_ECMC:DlyGen-0-Width-SP"  "1000"
DBF_DOUBLE:         1000      
dbpf "IOC_MRF_ECMC:DlyGen-1-Width-SP"  "1000"
DBF_DOUBLE:         1000      
dbpf "IOC_MRF_ECMC:DlyGen-2-Width-SP"  "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-3-Width-SP"  "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-4-Width-SP"  "1000"
DBF_DOUBLE:         1000      
dbpf "IOC_MRF_ECMC:DlyGen-5-Width-SP"  "1000"
DBF_DOUBLE:         1000      
dbpf "IOC_MRF_ECMC:DlyGen-6-Width-SP"  "0"
DBF_DOUBLE:         0         
dbpf "IOC_MRF_ECMC:DlyGen-7-Width-SP"  "1000"
DBF_DOUBLE:         1000      
dbpf "IOC_MRF_ECMC:DlyGen-8-Width-SP"  "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-9-Width-SP"  "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-10-Width-SP" "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-11-Width-SP" "10"
DBF_DOUBLE:         10        
dbpf "IOC_MRF_ECMC:DlyGen-12-Width-SP" "0"
DBF_DOUBLE:         0         
dbpf "IOC_MRF_ECMC:DlyGen-13-Width-SP" "0"
DBF_DOUBLE:         0         
dbpf "IOC_MRF_ECMC:DlyGen-14-Width-SP" "0"
DBF_DOUBLE:         0         
# NULL pulser
dbpf "IOC_MRF_ECMC:DlyGen-15-Width-SP" "0"
DBF_DOUBLE:         0         
### Define pulsers - trigger events
dbpf "IOC_MRF_ECMC:DlyGen-0-Evt-Trig0-SP"  "14"
DBF_LONG:           14 = 0xe  
dbpf "IOC_MRF_ECMC:DlyGen-1-Evt-Trig0-SP"  "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:DlyGen-2-Evt-Trig0-SP"  "12"
DBF_LONG:           12 = 0xc  
dbpf "IOC_MRF_ECMC:DlyGen-3-Evt-Trig0-SP"  "13"
DBF_LONG:           13 = 0xd  
dbpf "IOC_MRF_ECMC:DlyGen-4-Evt-Trig0-SP"  "125"
DBF_LONG:           125 = 0x7d          
dbpf "IOC_MRF_ECMC:DlyGen-5-Evt-Trig0-SP"  "40"
DBF_LONG:           40 = 0x28 
dbpf "IOC_MRF_ECMC:DlyGen-6-Evt-Trig0-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-7-Evt-Trig0-SP"  "42"
DBF_LONG:           42 = 0x2a 
dbpf "IOC_MRF_ECMC:DlyGen-8-Evt-Trig0-SP"  "10"
DBF_LONG:           10 = 0xa  
dbpf "IOC_MRF_ECMC:DlyGen-9-Evt-Trig0-SP"  "11"
DBF_LONG:           11 = 0xb  
dbpf "IOC_MRF_ECMC:DlyGen-10-Evt-Trig0-SP" "7"
DBF_LONG:           7 = 0x7   
dbpf "IOC_MRF_ECMC:DlyGen-11-Evt-Trig0-SP" "6"
DBF_LONG:           6 = 0x6   
dbpf "IOC_MRF_ECMC:DlyGen-12-Evt-Trig0-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-13-Evt-Trig0-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-14-Evt-Trig0-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-15-Evt-Trig0-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-0-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-1-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-2-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-3-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-4-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-5-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-6-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-7-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-8-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-9-Evt-Trig1-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-10-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-11-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-12-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-13-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-14-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-15-Evt-Trig1-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-0-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-1-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-2-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-3-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-4-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-5-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-6-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-7-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-8-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-9-Evt-Trig2-SP"  "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-10-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-11-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-12-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-13-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-14-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
dbpf "IOC_MRF_ECMC:DlyGen-15-Evt-Trig2-SP" "0"
DBF_LONG:           0 = 0x0   
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evrout.r.iocsh" "P=IOC_MRF_ECMC,BP0=0,BP1=1,BP2=49,BP3=4,BP4=5,BP6=7,FPUV0=52,FP0=53"
# @about: evrout.r.iocsh
# BP SRC configuration
### MTCA EVR Backplane0, RX17 (0)
dbpf "IOC_MRF_ECMC:Out-Back0-Src-SP" "0"
DBF_LONG:           0 = 0x0   
### MTCA EVR Backplane1, TX17 (0)
dbpf "IOC_MRF_ECMC:Out-Back1-Src-SP" "1"
DBF_LONG:           1 = 0x1   
### MTCA EVR Backplane2, RX18 (0)
dbpf "IOC_MRF_ECMC:Out-Back2-Src-SP" "49"
DBF_LONG:           49 = 0x31 
### MTCA EVR Backplane3, TX18 (0)
dbpf "IOC_MRF_ECMC:Out-Back3-Src-SP" "4"
DBF_LONG:           4 = 0x4   
### MTCA EVR Backplane4, RX19 (0)
dbpf "IOC_MRF_ECMC:Out-Back4-Src-SP" "5"
DBF_LONG:           5 = 0x5   
### MTCA EVR Backplane5, TX19 (0)
dbpf "IOC_MRF_ECMC:Out-Back5-Src-SP" "15"
DBF_LONG:           15 = 0xf  
### MTCA EVR Backplane6, RX20 (0)
dbpf "IOC_MRF_ECMC:Out-Back6-Src-SP" "7"
DBF_LONG:           7 = 0x7   
### MTCA EVR Backplane7, TX20 (0)
dbpf "IOC_MRF_ECMC:Out-Back7-Src-SP" "15"
DBF_LONG:           15 = 0xf  
# FP outputs
dbpf "IOC_MRF_ECMC:Out-FP0-Src-SP" "53"
DBF_LONG:           53 = 0x35 
dbpf "IOC_MRF_ECMC:Out-FP1-Src-SP" "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:Out-FP2-Src-SP" "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:Out-FP3-Src-SP" "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:Out-FPUV0-Src-SP" "52"
DBF_LONG:           52 = 0x34 
dbpf "IOC_MRF_ECMC:Out-FPUV1-Src-SP" "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:Out-FPUV2-Src-SP" "15"
DBF_LONG:           15 = 0xf  
dbpf "IOC_MRF_ECMC:Out-FPUV3-Src-SP" "15"
DBF_LONG:           15 = 0xf  
iocshLoad "/epics/base-7.0.5/require/3.4.1/siteMods/mrfioc2/2.3.1-beta.5//evrin.r.iocsh" "P=IOC_MRF_ECMC,BP5EN=,BPE5=41,BP7EN=,BPE7=43"
# @about: evrin.r.iocsh
# Backplane inputs
#dbpf "IOC_MRF_ECMC:Out-Back0-Src-Scale-SP" "Tri-state"
#dbpf "IOC_MRF_ECMC:Out-Back1-Src-Scale-SP" "Tri-state"
#dbpf "IOC_MRF_ECMC:Out-Back2-Src-Scale-SP" "Tri-state"
#dbpf "IOC_MRF_ECMC:Out-Back3-Src-Scale-SP" "Tri-state"
#dbpf "IOC_MRF_ECMC:Out-Back4-Src-Scale-SP" "Tri-state"
dbpf "IOC_MRF_ECMC:Out-Back5-Src-Scale-SP" "Tri-state"
DBF_STRING:         "Tri-state"         
#dbpf "IOC_MRF_ECMC:Out-Back6-Src-Scale-SP" "Tri-state"
dbpf "IOC_MRF_ECMC:Out-Back7-Src-Scale-SP" "Tri-state"
DBF_STRING:         "Tri-state"         
#dbpf "IOC_MRF_ECMC:BPIn-0-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:BPIn-1-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:BPIn-2-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:BPIn-3-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:BPIn-4-Trig-Ext-Sel" "Edge"
dbpf "IOC_MRF_ECMC:BPIn-5-Trig-Ext-Sel" "Edge"
DBF_STRING:         "Edge"    
#dbpf "IOC_MRF_ECMC:BPIn-6-Trig-Ext-Sel" "Edge"
dbpf "IOC_MRF_ECMC:BPIn-7-Trig-Ext-Sel" "Edge"
DBF_STRING:         "Edge"    
# Local EVR events
#dbpf "IOC_MRF_ECMC:BPIn-0-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:BPIn-1-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:BPIn-2-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:BPIn-3-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:BPIn-4-Code-Ext-SP" "0"
dbpf "IOC_MRF_ECMC:BPIn-5-Code-Ext-SP" "41"
DBF_LONG:           41 = 0x29 
#dbpf "IOC_MRF_ECMC:BPIn-6-Code-Ext-SP" "0"
dbpf "IOC_MRF_ECMC:BPIn-7-Code-Ext-SP" "43"
DBF_LONG:           43 = 0x2b 
# Front panel inputs
#dbpf "IOC_MRF_ECMC:In-0-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:In-1-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:In-2-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:In-3-Trig-Ext-Sel" "Edge"
# Univ inputs
#dbpf "IOC_MRF_ECMC:UnivIn-0-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:UnivIn-1-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:UnivIn-2-Trig-Ext-Sel" "Edge"
#dbpf "IOC_MRF_ECMC:UnivIn-3-Trig-Ext-Sel" "Edge"
# Local EVR events for FP
#dbpf "IOC_MRF_ECMC:In-0-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:In-1-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:In-2-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:In-3-Code-Ext-SP" "0"
# Local EVR events for UNIV
#dbpf "IOC_MRF_ECMC:UnivIn-0-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:UnivIn-1-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:UnivIn-2-Code-Ext-SP" "0"
#dbpf "IOC_MRF_ECMC:UnivIn-3-Code-Ext-SP" "0"
dbpf IOC_MRF_ECMC:TimeSrc-Sel "Sys. Clock"
DBF_STRING:         "Sys. Clock"        
dbpf IOC_MRF_ECMC:DC-Tgt-SP 70
DBF_DOUBLE:         70        
dbpf IOC_MRF_ECMC:PS-0-Div-SP 6289464
DBF_LONG:           6289464 = 0x5ff838  
dbpf IOC_MRF_ECMC:SoftSeq-0-RunMode-Sel "Normal"
DBF_STRING:         "Normal"  
dbpf IOC_MRF_ECMC:SoftSeq-0-TrigSrc-2-Sel "Prescaler 0"
DBF_STRING:         "Prescaler 0"       
dbpf IOC_MRF_ECMC:SoftSeq-0-TsResolution-Sel "uSec"
DBF_STRING:         "uSec"    
dbpf IOC_MRF_ECMC:SoftSeq-0-Load-Cmd 1
DBF_STRING:         "1"       
dbpf IOC_MRF_ECMC:SoftSeq-0-Enable-Cmd 1
DBF_STRING:         "1"       
system("/bin/bash /home/anderssandstrom/sources/ecmc_mtca_mrf_test/iocsh/configure14Hz.sh IOC_MRF_ECMC"
# Configure output 0
dbpf IOC_MRF_ECMC:Out-FP0-Src-Pulse-SP "Pulser 0"
DBF_STRING:         "Pulser 0"          
# Set the IOC Prompt String One 
epicsEnvSet IOCSH_PS1 "lab-mot-ctrl-cp-9992 > "
#
[?1034hlab-mot-ctrl-cp-9992 > 